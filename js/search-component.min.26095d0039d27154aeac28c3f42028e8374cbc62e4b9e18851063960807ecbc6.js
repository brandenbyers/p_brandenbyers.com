(function(){const e=document.getElementById("search-toggle"),t=document.querySelector(".search-panel"),n=t?.querySelector('input[name="q"]');if(!e||!t||!n)return;e.addEventListener("change",()=>{if(e.checked){const e="ontouchstart"in window||navigator.maxTouchPoints>0;e||setTimeout(()=>n.focus(),50)}}),document.addEventListener("click",n=>{e.checked&&!t.contains(n.target)&&!n.target.closest(".search-trigger")&&n.target!==e&&setTimeout(()=>{e.checked&&(e.checked=!1)},0)}),document.addEventListener("keydown",t=>{t.key==="Escape"&&e.checked&&(e.checked=!1)})})()